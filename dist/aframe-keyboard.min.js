!function(e){var t={};function a(d){if(t[d])return t[d].exports;var n=t[d]={i:d,l:!1,exports:{}};return e[d].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,d){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:d})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var d=Object.create(null);if(a.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(d,n,function(t){return e[t]}.bind(null,n));return d},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){a(1),a(3);const d=a(4),n={mode:"normal"};n.template=new d,e.exports=window.AFK=n},function(e,t,a){const d=a(2);if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("a-keyboard",{schema:{audio:{default:!1},color:{default:"#000"},dismissable:{default:!0},font:{default:"monoid"},fontSize:{default:"0.35"},locale:{default:"en"},model:{default:""},verticalAlign:{default:"center"}},init:function(){AFK.template.draw({...this.data,el:this.el}),this.attachEventListeners()},attachEventListeners:function(){window.addEventListener("keydown",this.handleKeyboardPress),this.el.addEventListener("click",this.handleKeyboardVR)},removeEventListeners:function(){window.removeEventListener("keydown",this.handleKeyboardPress),this.el.removeEventListener("click",this.handleKeyboardVR)},handleKeyboardPress:function(e){d(e)},handleKeyboardVR:function(e){d(e,"vr")},remove:function(){this.removeEventListeners()}})},function(e,t){e.exports=function(e,t){let a;const d=new Set([16,17,18,20,33,34,35,36,45,46,77,112,113,114,115,116,117,118,119,120,121,122,123]);e.key.charCodeAt(0);let n=e.key,r=e.keyCode;if("vr"===t&&(r=parseInt(document.querySelector(`#${e.target.id}`).getAttribute("key-code")),n=document.querySelector(`#${e.target.id}`).getAttribute("value")),!d.has(e.keyCode)){switch(r){case 9:a=new CustomEvent("a-keyboard-update",{detail:{code:r,value:"\t"}}),document.dispatchEvent(a);break;case 8:a=new CustomEvent("a-keyboard-update",{detail:{code:r,value:""}}),document.dispatchEvent(a);break;case 13:a=new CustomEvent("a-keyboard-update",{detail:{code:r,value:"\n"}}),document.dispatchEvent(a);break;case 27:this.dismissable&&(a=new CustomEvent("a-keyboard-update",{detail:{code:r,value:""}}),document.dispatchEvent(a));break;case 32:a=new CustomEvent("a-keyboard-update",{detail:{code:r,value:" "}}),document.dispatchEvent(a);break;default:a=new CustomEvent("a-keyboard-update",{detail:{code:r,value:n}}),document.dispatchEvent(a)}if("vr"!==t){const t=document.querySelector(`#a-keyboard-${r}`)||document.querySelector(`#a-keyboard-${e.keyCode}`);t&&(t.dispatchEvent(new Event("mousedown")),setTimeout(function(){t.dispatchEvent(new Event("mouseleave"))},80))}}}},function(e,t){if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("keyboard-button",{init:function(){const e=this.el,t=this;e.addEventListener("mousedown",function(){e.setAttribute("material","opacity","0.7")}),e.addEventListener("mouseup",function(){e.setAttribute("material","opacity",t.isMouseEnter?"0.4":"0")}),e.addEventListener("mouseenter",function(){e.setAttribute("material","opacity","0.4"),t.isMouseEnter=!0}),e.addEventListener("mouseleave",function(){e.setAttribute("material","opacity","0"),t.isMouseEnter=!1})}})},function(e,t,a){const d=a(5);e.exports=class{constructor(){this.keyboardKeys={},this.activeMode="normal"}draw(e){for(const t in e)this[t]=e[t];this.keyboardKeys=d(e.locale),this.drawKeyboard()}drawButton(e){const t=e.key,a=t.size.split(" ")[0],d=t.size.split(" ")[1],n=document.createElement("a-entity");n.setAttribute("position",e.position);const r=document.createElement("a-entity");r.setAttribute("geometry",`primitive: box; width: ${a}; height: ${d}; depth: 0.013`),r.setAttribute("material","color: #ccc");const s=document.createElement("a-text");s.id=`a-keyboard-${t.code}`,s.setAttribute("key-code",t.code),s.setAttribute("value",t.value),s.setAttribute("align","center"),s.setAttribute("baseline",this.verticalAlign),s.setAttribute("position","0 0 0.01"),s.setAttribute("width",this.fontSize),s.setAttribute("height",this.fontSize),s.setAttribute("geometry",`primitive: plane; width: ${a}; height: ${d}`),s.setAttribute("material","opacity: 0.0; transparent: true; color: #000"),s.setAttribute("color",this.color),s.setAttribute("font",this.font),s.setAttribute("shader","msdf"),s.setAttribute("negate","false"),s.setAttribute("keyboard-button",!0),s.setAttribute("class","collidable"),n.appendChild(r),n.appendChild(s),this.el.appendChild(n)}drawKeyboard(){for(;this.el.firstChild;)this.el.removeChild(this.el.firstChild);if(this.keyboardKeys){const e=this.keyboardKeys[this.activeMode]||this.keyboardKeys.normal,t=.01,a=.03,d=document.createElement("a-entity"),n=11*a+12*t,r=a*e.length+t*(e.length+1);d.setAttribute("position",`${n/2-t} ${-r/2+t} -0.01`),d.setAttribute("geometry",`primitive: box; width: ${n}; height: ${r}; depth: 0.01`),d.setAttribute("material","color: #000"),this.el.appendChild(d);let s=0;for(let d=0;d<e.length;d++){const n=e[d];let r=0;for(let e=0;e<n.length;e++){const d=n[e],u=this.parseKeyObjects(d);if(!this.dismissable&&"cancel"===d.type)continue;const l=u.size.split(" ")[0],i=u.size.split(" ")[1];this.drawButton({key:u,position:`${r+l/2} ${s-i/2} 0`}),r+=parseFloat(l)+t,n.length===e+1&&(s-=a+t)}}}}toggleActiveMode(e){this.activeMode=e,this.drawKeyboard()}parseKeyObjects(e){const t=e.type,a=e.value;switch(t){case"delete":return{size:"0.03 0.03 0.013",value:a,code:"8"};case"enter":return{size:"0.03 0.07 0.013",value:a,code:"13"};case"shift":return{size:"0.07 0.03 0.013",value:a,code:"16"};case"alt":return{size:"0.07 0.03 0.013",value:a,code:"18"};case"space":return{size:"0.19 0.03 0.013",value:a,code:"32"};case"cancel":return{size:"0.07 0.03 0.013",value:a,code:"998"};case"submit":return{size:"0.07 0.03 0.013",value:a,code:"999"};default:return{size:"0.03 0.03 0.013",value:a,code:a.charCodeAt(0)}}}}},function(e,t,a){const d=a(6);e.exports=function(e){switch(e){case"en":default:return d}}},function(e,t){e.exports={name:"ms-US-International",normal:[[{value:"1",type:"standard"},{value:"2",type:"standard"},{value:"3",type:"standard"},{value:"4",type:"standard"},{value:"5",type:"standard"},{value:"6",type:"standard"},{value:"7",type:"standard"},{value:"8",type:"standard"},{value:"9",type:"standard"},{value:"0",type:"standard"},{value:"<-",type:"delete"}],[{value:"q",type:"standard"},{value:"w",type:"standard"},{value:"e",type:"standard"},{value:"r",type:"standard"},{value:"t",type:"standard"},{value:"y",type:"standard"},{value:"u",type:"standard"},{value:"i",type:"standard"},{value:"o",type:"standard"},{value:"p",type:"standard"},{value:"Ent",type:"enter"}],[{value:"a",type:"standard"},{value:"s",type:"standard"},{value:"d",type:"standard"},{value:"f",type:"standard"},{value:"g",type:"standard"},{value:"h",type:"standard"},{value:"j",type:"standard"},{value:"k",type:"standard"},{value:"l",type:"standard"},{value:'"',type:"standard"}],[{value:"Shift",type:"shift"},{value:"z",type:"standard"},{value:"x",type:"standard"},{value:"c",type:"standard"},{value:"v",type:"standard"},{value:"b",type:"standard"},{value:"n",type:"standard"},{value:"m",type:"standard"},{value:"Alt",type:"alt"}],[{value:"Cancel",type:"cancel"},{value:"␣",type:"space"},{value:",",type:"standard"},{value:".",type:"standard"},{value:"Submit",type:"submit"}]],shift:[[{value:"1",type:"standard"},{value:"2",type:"standard"},{value:"3",type:"standard"},{value:"4",type:"standard"},{value:"5",type:"standard"},{value:"6",type:"standard"},{value:"7",type:"standard"},{value:"8",type:"standard"},{value:"9",type:"standard"},{value:"0",type:"standard"},{value:"⌫",type:"delete"}],[{value:"Q",type:"standard"},{value:"W",type:"standard"},{value:"E",type:"standard"},{value:"R",type:"standard"},{value:"T",type:"standard"},{value:"Y",type:"standard"},{value:"U",type:"standard"},{value:"I",type:"standard"},{value:"O",type:"standard"},{value:"P",type:"standard"},{value:"⏎",type:"enter"}],[{value:"A",type:"standard"},{value:"S",type:"standard"},{value:"D",type:"standard"},{value:"F",type:"standard"},{value:"G",type:"standard"},{value:"H",type:"standard"},{value:"J",type:"standard"},{value:"K",type:"standard"},{value:"L",type:"standard"},{value:'"',type:"standard"}],[{value:"⇧",type:"shift"},{value:"Z",type:"standard"},{value:"X",type:"standard"},{value:"C",type:"standard"},{value:"V",type:"standard"},{value:"B",type:"standard"},{value:"N",type:"standard"},{value:"M",type:"standard"},{value:"Alt",type:"alt"}],[{value:"Cancel",type:"cancel"},{value:"␣",type:"space"},{value:",",type:"standard"},{value:".",type:"standard"},{value:"Submit",type:"submit"}]],alt:[[{value:"1",type:"standard"},{value:"2",type:"standard"},{value:"3",type:"standard"},{value:"4",type:"standard"},{value:"5",type:"standard"},{value:"6",type:"standard"},{value:"7",type:"standard"},{value:"8",type:"standard"},{value:"9",type:"standard"},{value:"0",type:"standard"},{value:"⌫",type:"delete"}],[{value:"~",type:"standard"},{value:"`",type:"standard"},{value:"|",type:"standard"},{value:"•",type:"standard"},{value:"√",type:"standard"},{value:"π",type:"standard"},{value:"u",type:"standard"},{value:"÷",type:"standard"},{value:"x",type:"standard"},{value:"p",type:"standard"},{value:"⏎",type:"enter"}],[{value:"₤",type:"standard"},{value:"#",type:"standard"},{value:"€",type:"standard"},{value:"°",type:"standard"},{value:"^",type:"standard"},{value:"_",type:"standard"},{value:"=",type:"standard"},{value:"[",type:"standard"},{value:"]",type:"standard"},{value:"!",type:"standard"}],[{value:"⇧",type:"shift"},{value:"@",type:"standard"},{value:"#",type:"standard"},{value:"$",type:"standard"},{value:"%",type:"standard"},{value:"*",type:"standard"},{value:"(",type:"standard"},{value:")",type:"standard"},{value:"-",type:"standard"},{value:"?",type:"standard"}],[{value:"Cancel",type:"cancel"},{value:"Alt",type:"alt"},{value:"␣",type:"space"},{value:"@",type:"standard"},{value:"Submit",type:"submit"}]]}}]);